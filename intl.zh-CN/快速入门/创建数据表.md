# 创建数据表

通过控制台、工具或SDK创建数据表后，您可以在数据表中读写数据。创建数据表时，您可以根据业务需求同时创建全局二级索引用于读取数据。

## 使用控制台创建数据表

1.  登录[表格存储控制台](https://otsnext.console.aliyun.com/)。

2.  在概览页面，单击实例名称或在操作列单击**实例管理**。

3.  在实例详情页签，单击**创建数据表**。

    **说明：** 单个实例最多可以创建64张数据表。

4.  在创建数据表对话框，按照如下说明配置**数据表名称**和**表主键**。

    |参数|描述|
    |--|--|
    |数据表名称|数据表名称，用于在实例级别中唯一标识一张数据表。 数据表的命名规则为由大小写字母、数字或下划线（\_）组成，且只能以字母或下划线（\_）开头，长度在1个~255个字节。 |
    |表主键|表中的一列或多列，用于唯一标识表中的一条记录。 输入表主键名称并选择数据类型，单击**添加表主键**，可加入新的主键。

单表最多可设置4个主键，第一个主键默认为分区键。主键的配置及顺序设置后不能修改。

**说明：**

    -   表格存储支持将主键列设置为自增列，每张表只能设置一个主键列为自增列，且分区键不能设置为自增列。
    -   主键列设置为自增列后，在写入一行数据时，该主键列无需填值，表格存储会自动生成该主键列的值。自动生成的主键列的值在分区键内严格递增且唯一。
    -   表主键名称的命名规则为由大小写字母、数字或下划线（\_）组成，且只能以字母或下划线（\_）开头，长度在1个~255个字节之间。
    -   主键的数据类型可选为**字符串**、**整型**或**二进制**。 |

5.  （可选）在创建数据表对话框，进行高级配置或者创建二级索引。

    当需要对数据表设置数据生命周期等高级配置或者创建二级索引时，请执行此步骤。

    -   打开**高级设置**开关，配置高级参数，参数说明如下。

        |参数|描述|
        |--|--|
        |数据生命周期|数据表中数据的保存时间。当数据的保存时间超过设置的数据生命周期时，系统会自动清理超过数据生命周期的数据。单位为秒。 取值：大于等于86400秒（一天）或-1（数据永不过期）。 |
        |最大版本数|数据表中的属性列能够保留数据的最大版本个数。当属性列数据的版本个数超过设置的最大版本数时，系统会自动删除较早版本的数据。 取值必须为非0整数。 |
        |数据有效版本偏差|只有当写入数据所有列的版本号与写入时时间的差值在数据有效版本偏差范围内，数据才能成功写入。 属性列的有效版本范围为**\[数据写入时间-有效版本偏差，数据写入时间+有效版本偏差\)**。 |
        |预留读吞吐量|容量型实例不支持该参数。 为数据表预留读吞吐量或写吞吐量。取值范围为0~100000，且取值必须为整数。单位为CU。

        -   当预留读吞吐量或预留写吞吐量大于0时，表格存储会根据配置为数据表分配和预留相应资源，且数据表创建成功后，将会立即按照预留吞吐量开始计费。
        -   当预留读吞吐量或预留写吞吐量为0时，表格存储不会为数据表分配和预留相应资源。 |
        |预留写吞吐量|

    -   打开创建二级索引开关，创建二级索引。
        -   单击**添加预定义列**，输入预定义列名称和选择数据类型。

            预定义列名称命名规则为由大小写字母、数字或下划线（\_）组成，且只能以字母或下划线（\_）开头，长度在1个~255个字节。

            预定义列的数据类型可选为字符串、整型、二进制、浮点型或布尔值。

        -   单击**添加二级索引**，输入索引名称，选择索引主键，根据需要选择索引预定义列。
6.  单击**确定**。

    数据表创建完成后，在**数据表列表**区域，可以查看已创建的数据表。如果新建的表未显示在列表中，可单击![fig_tablestore_002](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1606659951/p96207.png)图标，刷新数据表列表。

    数据表创建完成后，支持对数据表进行如下操作。

    -   单击表名或在操作列选择不同功能，然后在表管理页面，单击不同页签执行不同操作。
        -   在基本详情页签，可以查看数据表的基本信息，修改表属性，查看开启的高级功能，查看主键列表，添加预定义列等。
        -   在数据管理页签，可以插入数据，更新数据，查询数据，查看数据详情，批量删除数据等。
        -   在索引管理页签，可以创建多元索引或二级索引，查看索引详情，查询数据，删除索引等。
        -   在通道管理页签，可以开启Stream功能，创建通道，展示通道分区列表，删除通道等。
        -   在监控指标页签，可以按照表或者索引、不同时间不同指标分组或操作监控相应指标。
        -   在触发器管理页签，可以使用函数计算对表格存储的增量数据进行实时计算。具体操作，请参见[使用函数计算](/intl.zh-CN/计算与分析/函数触发器/使用函数计算.md)。
    -   在操作列，选择**![fig_001](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2606659951/p100545.png)** \> **删除**，可以删除数据表。

        **说明：** 删除数据表前请确保已删除创建的索引，否则数据表将删除失败。


## 使用SDK创建数据表

请参见[SDK参考](/intl.zh-CN/SDK 参考/SDK概览.md)。

