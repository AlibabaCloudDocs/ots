# 使用预留模式时如何进行预估选型

使用预留模式时，您需要提前规划硬件资源消耗和选择存储类型。本文介绍使用预留模式时如何评估计算资源和选择存储类型。

## 计算资源评估

使用预留模式时，所有的计算资源均通过VCU进行定义。1 VCU相当于4核16 GB的计算能力。使用表格存储中的数据读写，索引的写入、查询、分析，通道服务等操作均会消耗VCU的计算资源。

通过QPS近似评估VCU的建议请参见下表。由于计算资源的消耗涉及较多因素，请结合实际业务评估VCU。

**说明：**

-   读写行的大小，请求的Cache命中率、Filter的复杂度、多元索引查询分析复杂度均会影响实际VCU消耗。具体资源消耗请以业务实际运行为准。
-   为了避免业务突发峰值，推荐您预留40%左右的计算资源，保证线上服务稳定。

|QPS（行/秒）|推荐VCU|说明|
|--------|-----|--|
|0~1000|2 VCU|建议作为最小生产环境的VCU配置使用，适用于较低负载时访问。|
|1000~20000|4~6 VCU|适用于中低负载时配置使用。|
|20000以上|10 VCU以上|高负载时，通过每10000 QPS配置5 VCU的方式进行近似预估。|

## 存储类型选择

使用预留模式时，表格存储为数据表提供了高性能存储和容量型存储两种存储类型，请根据下表为数据表选择合适的存储类型。

|存储类型|性能指标|适用场景|
|写平均RT|读平均RT|
|----|----|----|
|-----|-----|
|高性能存储（SSD）|<10ms|<10ms|适用于对延迟要求高的在线业务，例如广告、推荐、Feed流。毛刺率低，通常延时均在几ms级别。|
|容量型存储（SATA）|<10ms|<100ms|适用于如下场景：-   对延迟要求一般的在线业务，尤其是对读延迟不敏感的在线业务。
-   数据规模较大，对成本较为敏感的场景。 |

